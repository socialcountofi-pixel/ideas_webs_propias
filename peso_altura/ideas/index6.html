<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comparador Pok√©mon üß¢‚ö°</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: linear-gradient(180deg, #b3e5fc, #e1f5fe);
    margin: 0;
    padding: 0;
  }
  h1 { background-color: #0288d1; color: white; margin:0; padding:15px; font-size:1.8rem;}
  .container { margin:20px; }

  input, button { padding:10px; font-size:1rem; margin-top:10px;}
  button { background-color:#0288d1; color:white; border:none; cursor:pointer; border-radius:5px; margin-left:5px; transition:0.3s;}
  button:hover { background-color:#0277bd;}

  .comparacion-vertical {
    display:flex;
    flex-direction:row;
    align-items:flex-end;
    justify-content:center;
    gap:10px;
    margin:20px 0;
  }

  .barra {
    width: 20px;
    border-radius:10px;
    transition: height 0.5s;
  }
  .barra-ash { background-color:#4caf50;}
  .barra-pokemon { background-color:#f44336;}

  .comparacion-vertical img {
    max-height:150px;
    width:auto;
    border:4px solid transparent;
    border-radius:10px;
    background-color:rgba(255,255,255,0.6);
    filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.3));
  }

  .info {
    margin-top:20px;
    background:white;
    display:inline-block;
    padding:15px 20px;
    border-radius:12px;
    box-shadow:0 2px 8px rgba(0,0,0,0.25);
    text-align:left;
    max-width:90%;
  }
</style>
</head>
<body>

<h1>Comparador de Altura y Peso Pok√©mon üß¢‚ö°</h1>

<div class="container">
  <input type="text" id="pokemonInput" placeholder="Introduce nombre o ID (ej: wailord)">
  <button onclick="buscarPokemon()">Buscar Pok√©mon</button>

  <h2>Altura</h2>
  <div class="comparacion-vertical" id="comparacionAltura">
    <div id="barraAlturaAsh" class="barra barra-ash" style="height:50px;"></div>
    <img id="ashAlturaImg" src="https://images.wikidexcdn.net/mwuploads/wikidex/e/eb/latest/20220628064212/Ash_Masters.png" alt="Ash">
    <img id="pokemonAlturaImg" src="" alt="Pok√©mon">
    <div id="barraAlturaPokemon" class="barra barra-pokemon" style="height:50px;"></div>
  </div>

  <h2>Peso</h2>
  <div class="comparacion-vertical" id="comparacionPeso">
    <div id="barraPesoAsh" class="barra barra-ash" style="height:50px;"></div>
    <img id="ashPesoImg" src="https://images.wikidexcdn.net/mwuploads/wikidex/e/eb/latest/20220628064212/Ash_Masters.png" alt="Ash">
    <img id="pokemonPesoImg" src="" alt="Pok√©mon">
    <div id="barraPesoPokemon" class="barra barra-pokemon" style="height:50px;"></div>
  </div>

  <div class="info" id="info"></div>
</div>

<script>
const alturaAsh = 1.69;
const pesoAsh = 40.0;
const maxBarHeight = 150;

const barraAlturaAsh = document.getElementById("barraAlturaAsh");
const barraAlturaPokemon = document.getElementById("barraAlturaPokemon");
const barraPesoAsh = document.getElementById("barraPesoAsh");
const barraPesoPokemon = document.getElementById("barraPesoPokemon");

const ashAlturaImg = document.getElementById("ashAlturaImg");
const ashPesoImg = document.getElementById("ashPesoImg");
const pokemonAlturaImg = document.getElementById("pokemonAlturaImg");
const pokemonPesoImg = document.getElementById("pokemonPesoImg");

const infoDiv = document.getElementById("info");

async function cargarImagen(url){
  return new Promise(resolve=>{
    const img = new Image();
    img.src = url;
    img.onload = ()=>resolve(url);
    img.onerror = ()=>resolve("https://via.placeholder.com/150?text=No+Image");
  });
}

async function buscarPokemon(){
  const nombre = document.getElementById("pokemonInput").value.toLowerCase().trim();
  if(!nombre) return alert("Introduce nombre o ID de Pok√©mon");
  
  try{
    const res = await fetch(`https://pokeapi.co/api/v2/pokemon/${nombre}`);
    if(!res.ok) throw new Error("Pok√©mon no encontrado");
    const data = await res.json();

    const nombrePokemon = data.name;
    const alturaPokemon = data.height/10;
    const pesoPokemon = data.weight/10;
    const img = data.sprites.other["official-artwork"].front_default || data.sprites.front_default;
    const imgUrl = await cargarImagen(img);

    pokemonAlturaImg.src = imgUrl;
    pokemonPesoImg.src = imgUrl;

    // --- Altura barras ---
    barraAlturaAsh.style.height = `${(alturaAsh/Math.max(alturaAsh,alturaPokemon))*maxBarHeight}px`;
    barraAlturaPokemon.style.height = `${(alturaPokemon/Math.max(alturaAsh,alturaPokemon))*maxBarHeight}px`;

    // --- Peso barras ---
    barraPesoAsh.style.height = `${(pesoAsh/Math.max(pesoAsh,pesoPokemon))*maxBarHeight}px`;
    barraPesoPokemon.style.height = `${(pesoPokemon/Math.max(pesoAsh,pesoPokemon))*maxBarHeight}px`;

    // --- Info ---
    infoDiv.innerHTML=`
      <h3>${nombrePokemon.toUpperCase()}</h3>
      <p><strong>ID Pok√©dex:</strong> ${data.id}</p>
      <p><strong>Comparativa de altura:</strong> 
        ${alturaPokemon>alturaAsh?`${nombrePokemon} es m√°s alto que Ash`:
          alturaPokemon<alturaAsh?`Ash es m√°s alto que ${nombrePokemon}`:`Tienen la misma altura`}
      </p>
      <p><strong>Comparativa de peso:</strong> 
        ${pesoPokemon>pesoAsh?`${nombrePokemon} es m√°s pesado que Ash`:
          pesoPokemon<pesoAsh?`Ash es m√°s pesado que ${nombrePokemon}`:`Tienen el mismo peso`}
      </p>
    `;
  }catch(err){
    alert(err.message);
  }
}
</script>

</body>
</html>